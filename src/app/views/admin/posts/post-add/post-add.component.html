<app-sidebar />

<div class="ml-20 content-header tabla">
  <div class="container-fluid">
    <div>
      <h1 class="text-5xl  mt-10 uppercase text-blue-500">Insertar/Editar</h1>
    </div>
  </div>
  <div>
    <div class="container-fluid" style="margin-top: 10px;">
      <div>
        <input name="user_id" type="hidden" value="1">

        <form [formGroup]="frmPost" (ngSubmit)="insertPost()" class="flex flex-wrap">
          <div class="w-[80%]">
            <div class="flex">
              <div class="mb-5 w-[50%] pr-5">
                <label for="title" class="block mb-2 text-lg font-medium text-gray-900 dark:text-white">Título</label>
                <input formControltitle="title" type="text" id="title"
                  class="shadow-lg shadow-gray-600  bg-gray-50 border border-yellow-600 focus:border-blue-500  text-gray-900 text-lg rounded-lg block w-full p-2.5"
                  placeholder="Ingrese el título del post" required />
              </div>

              <div class="mb-5 w-[50%] pl-5">
                <label for="url" class="block mb-2 text-lg font-medium text-gray-900 dark:text-white">URL</label>
                <input formControlName="url" type="text" id="url"
                  class="shadow-lg shadow-gray-600  bg-gray-50 border border-yellow-600 focus:border-blue-500  text-gray-900 text-lg rounded-lg block w-full p-2.5"
                  placeholder="Ingrese la url del post" required />
              </div>
            </div>

            <div class="flex my-10">
              <img id="pic_portada_post" class="rounded-3xl shadow-lg shadow-black w-80"
                src="../assets/Home/Mesa de trabajo 9.png" alt="post_image">

              <div class="ml-10">
                <label for="file_image" class="block mb-2 text-lg font-medium text-gray-900 dark:text-white">Imagen de
                  portada de post</label>
                <input formControlName="image" (change)="onFileSelected($event)" name="file_image" id="file_image"
                  accept="image/*" type="file"
                  class="block w-full text-lg text-black file:me-4 file:py-2 file:px-4 file:rounded-l-lg file:border-0 file:text-lg  file:bg-gray-800 file:text-white hover:file:bg-gray-500 cursor-pointer">
              </div>
            </div>

            <div class="mb-5">
              <label for="extract" class="block mb-2 text-lg font-medium text-gray-900 dark:text-white">Extracto</label>
              <textarea formControlName="abstract" id="textAreaExtracto" name="textAreaExtracto" rows="4"
                class="shadow-lg shadow-gray-600 border-yellow-600 block p-2.5 w-full text-lg text-gray-900 bg-gray-50 rounded-lg border  focus:border-blue-500 "
                placeholder="Escribe aqui el extracto"></textarea>
            </div>

            <div class="mb-5">
              <label class="block mb-2 text-lg font-medium text-gray-900 dark:text-white" for="textAreaPost">Cuerpo
                del post</label>
              <textarea formControlName="body" id="textAreaPost" name="textAreaPost" rows="4"
                class="shadow-lg shadow-gray-600 border-yellow-600 block p-2.5 w-full text-lg text-gray-900 bg-gray-50 rounded-lg border  focus:border-blue-500 "
                placeholder="Escribe aqui el extracto"></textarea>

            </div>
          </div>

          <div class="w-[20%] p-5">

            <div class="border border-gray-200 shadow-lg shadow-black mb-20 rounded-2xl">
              <div class="p-2 text-center text-2xl bg-gray-100 w-full border-b border-gray-500 uppercase rounded-t-2xl"
                for="">Categorías
              </div>
              <div class="flex flex-wrap mx-auto p-5 text-lg h-52 overflow-auto" id="categoriesPost">
                @if(categoriesResults$ | async; as results){
                @if(results.success){
                @for (category of results.data; track $index) {
                <div class="w-full mb-2">
                  <input formControlName="categoryId" type="radio" class="mr-2 size-5" value="{{category.id}}" name="categoryId">
                  <label for="">{{category.name}}</label>
                </div>
                }}}
              </div>
            </div>


            <div class="border border-gray-200 shadow-lg shadow-black rounded-2xl">
              <div class="p-2 text-center text-2xl bg-gray-100 w-full border-b border-gray-500 uppercase rounded-t-2xl"
                for="">Publicar
              </div>
              <div class="flex flex-wrap p-5 text-lg" id="estatusPost">
                @if(statusResults$ | async; as results){
                  @if(results.success){
                  @for (status of results.data; track $index) {
                <div class="w-full mb-2">
                  <input formControlName="statusId" type="radio" value="{{status.id}}" class="mr-2 size-5" name="statusId">
                  <label for="">{{status.name}}</label>
                </div>
              }}}
              </div>
            </div>
            <div class="flex justify-center mt-10">
              <button type="submit"
                class="text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg  rounded-lg text-lg px-28 py-3 text-center me-2 mb-2 "
                >Publicar</button>
            </div>
          </div>


        </form>
      </div>
    </div>
  </div>
</div>
